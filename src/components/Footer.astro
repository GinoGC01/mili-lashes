---
const currentYear = new Date().getFullYear();
---

<footer 
  id="footer-section" 
  class="bg-black border-t border-white/10 pt-20 pb-10 text-slate-400 relative overflow-hidden" 
  id="contacto"
>
  <div class="absolute bottom-0 left-1/2 -translate-x-1/2 w-full h-1/2 bg-primary/5 blur-[120px] pointer-events-none"></div>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16">
      
      <div class="reveal-column space-y-6 opacity-0" style="animation-delay: 0.1s;">
        <a class="text-3xl font-display font-black tracking-tight text-white block group" href="/">
          LASH <span class="chrome-text transition-all duration-500 group-hover:text-glow">EXPERT.</span>
        </a>
        <p class="text-sm font-light leading-relaxed max-w-xs">
          Elevando los estándares de la industria lashista. Formación premium para artistas visuales que buscan la perfección editorial.
        </p>
      </div>

      <div class="reveal-column opacity-0" style="animation-delay: 0.2s;">
        <h4 class="text-white font-bold uppercase tracking-widest text-xs mb-6 border-b border-white/5 pb-2 inline-block">Programas</h4>
        <ul class="space-y-3 text-sm font-light">
          <li><a class="hover:text-primary transition-all duration-300 hover:pl-2 flex items-center gap-2 group" href="#programas">
            <span class="w-0 h-px bg-primary transition-all duration-300 group-hover:w-4"></span> Curso Inicial</a>
          </li>
          <li><a class="hover:text-primary transition-all duration-300 hover:pl-2 flex items-center gap-2 group" href="#programas">
            <span class="w-0 h-px bg-primary transition-all duration-300 group-hover:w-4"></span> Volumen Tecnológico</a>
          </li>
          <li><a class="hover:text-primary transition-all duration-300 hover:pl-2 flex items-center gap-2 group" href="#programas">
            <span class="w-0 h-px bg-primary transition-all duration-300 group-hover:w-4"></span> Wet Look Masterclass</a>
          </li>
        </ul>
      </div>

      <div class="reveal-column opacity-0" style="animation-delay: 0.3s;">
        <h4 class="text-white font-bold uppercase tracking-widest text-xs mb-6 border-b border-white/5 pb-2 inline-block">Contacto</h4>
        <ul class="space-y-4 text-sm font-mono">
          <li class="flex items-center gap-3 group">
            <span class="material-symbols-outlined text-sm text-primary transition-transform group-hover:scale-125">mail</span> 
            <span class="tracking-tighter hover:text-white transition-colors">info@lashexpert.com</span>
          </li>
          <li class="flex items-center gap-3 group">
            <span class="material-symbols-outlined text-sm text-primary transition-transform group-hover:scale-125">call</span> 
            <span class="hover:text-white transition-colors">+34 600 000 000</span>
          </li>
          <li class="flex items-center gap-3 group">
            <span class="material-symbols-outlined text-sm text-primary transition-transform group-hover:scale-125">location_on</span> 
            <span class="uppercase hover:text-white transition-colors">Madrid, España</span>
          </li>
        </ul>
      </div>

      <div class="reveal-column opacity-0" style="animation-delay: 0.4s;">
        <h4 class="text-white font-bold uppercase tracking-widest text-xs mb-6 border-b border-white/5 pb-2 inline-block">Social</h4>
        <div class="flex gap-4 mb-8">
          <a class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center hover:bg-primary hover:text-white transition-all duration-500 group border border-white/10 hover:border-primary hover:shadow-glow" href="#" aria-label="Instagram">
            <span class="material-symbols-outlined text-sm group-hover:scale-110 transition-transform">photo_camera</span>
          </a>
          <a class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center hover:bg-primary hover:text-white transition-all duration-500 group border border-white/10 hover:border-primary hover:shadow-glow" href="#" aria-label="YouTube">
            <span class="material-symbols-outlined text-sm group-hover:scale-110 transition-transform">videocam</span>
          </a>
        </div>
      </div>
    </div>

    <div class="reveal-footer border-t border-white/5 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-[10px] font-mono uppercase tracking-widest opacity-0">
      <p class="text-slate-500">© {currentYear} <span class="text-white">Lash Expert</span>. Todos los derechos reservados.</p>
      <div class="flex space-x-8">
        <a class="hover:text-primary transition-all duration-300" href="/privacidad">Privacidad</a>
        <a class="hover:text-primary transition-all duration-300" href="/terminos">Términos</a>
      </div>
    </div>
  </div>
</footer>

<style>
  /* Keyframes de Revelado */
  @keyframes footerRevealUp {
    from { 
      opacity: 0; 
      transform: translateY(20px);
      filter: blur(10px);
    }
    to { 
      opacity: 1; 
      transform: translateY(0);
      filter: blur(0);
    }
  }

  /* Control de Animación */
  .reveal-column, .reveal-footer {
    animation-fill-mode: forwards;
    animation-play-state: paused;
  }

  /* Activación por Clase Active */
  .active .reveal-column {
    animation: footerRevealUp 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    animation-play-state: running;
  }

  .active .reveal-footer {
    animation: footerRevealUp 1.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    animation-delay: 0.6s;
    animation-play-state: running;
  }

  /* Micro-interacciones de texto cromado */
  .chrome-text {
    background: linear-gradient(to bottom, #FFFFFF 0%, #94A3B8 50%, #FFFFFF 100%);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }
</style>

<script>
  /**
   * Intersection Observer para activar el Footer
   */
  const setupFooterReveal = () => {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('active');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });

    const section = document.querySelector('#footer-section');
    if (section) observer.observe(section);
  };

  setupFooterReveal();
  document.addEventListener('astro:after-swap', setupFooterReveal);
</script>